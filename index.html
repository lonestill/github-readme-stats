<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GitHub Readme Stats - Card Generator</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      min-height: 100vh;
    }
    .card-preview {
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    .code-block {
      background: #1e293b;
      color: #e2e8f0;
      padding: 16px;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      overflow-x: auto;
      font-size: 14px;
    }
    .theme-select {
      background: #1e293b;
      color: #e2e8f0;
      border: 1px solid #334155;
      border-radius: 6px;
      padding: 8px 12px;
    }
    .toast {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #10b981;
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
      z-index: 1000;
      animation: slideIn 0.3s ease-out;
    }
    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    .card-example {
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .card-example:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
    }
    .tab-button {
      transition: all 0.2s;
    }
    .tab-button.active {
      background: #3b82f6;
      color: white;
    }
  </style>
</head>
<body class="text-slate-200">
  <!-- Hero Section -->
  <div class="container mx-auto px-4 py-8 max-w-7xl">
    <div class="text-center mb-12">
      <h1 class="text-5xl font-bold mb-4 bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent">
        GitHub Readme Stats
      </h1>
      <p class="text-xl text-slate-400 mb-6">Generate beautiful stats cards for your GitHub profile</p>
      <div class="flex justify-center gap-4 flex-wrap">
        <a href="#constructor" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors">
          üé® Card Constructor
        </a>
        <a href="#gallery" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors">
          üì∏ Card Gallery
        </a>
        <a href="https://github.com/lonestill/github-readme-stats/blob/master/readme.md" target="_blank" class="bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors">
          üìö Documentation
        </a>
      </div>
    </div>

    <!-- Card Gallery -->
    <div id="gallery" class="mb-12">
      <h2 class="text-3xl font-bold mb-6 text-center text-blue-400">Card Gallery</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Stats Card -->
        <div class="bg-slate-800 rounded-lg p-6 border border-slate-700 card-example">
          <h3 class="text-xl font-bold mb-3 text-blue-400">üìä Stats Card</h3>
          <div class="bg-white rounded p-4 mb-4">
            <img src="/api?username=lonestill&theme=tokyonight&hide_border=true" alt="Stats Card" class="w-full" />
          </div>
          <p class="text-sm text-slate-400 mb-3">Display your GitHub statistics</p>
          <button onclick="loadExample('stats')" class="w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded text-sm">
            Use This Card
          </button>
        </div>

        <!-- Top Languages Card -->
        <div class="bg-slate-800 rounded-lg p-6 border border-slate-700 card-example">
          <h3 class="text-xl font-bold mb-3 text-green-400">üíª Top Languages</h3>
          <div class="bg-white rounded p-4 mb-4">
            <img src="/api/top-langs?username=lonestill&theme=tokyonight&hide_border=true&layout=compact" alt="Top Languages" class="w-full" />
          </div>
          <p class="text-sm text-slate-400 mb-3">Show your most used languages</p>
          <button onclick="loadExample('top-langs')" class="w-full bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded text-sm">
            Use This Card
          </button>
        </div>

        <!-- Trophy Card -->
        <div class="bg-slate-800 rounded-lg p-6 border border-slate-700 card-example">
          <h3 class="text-xl font-bold mb-3 text-yellow-400">üèÜ Trophy Card</h3>
          <div class="bg-white rounded p-4 mb-4">
            <img src="/api/trophy?username=lonestill&theme=tokyonight&hide_border=true&column=7" alt="Trophy Card" class="w-full" />
          </div>
          <p class="text-sm text-slate-400 mb-3">Display your GitHub achievements</p>
          <button onclick="loadExample('trophy')" class="w-full bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded text-sm">
            Use This Card
          </button>
        </div>

        <!-- Streak Card -->
        <div class="bg-slate-800 rounded-lg p-6 border border-slate-700 card-example">
          <h3 class="text-xl font-bold mb-3 text-red-400">üî• Streak Card</h3>
          <div class="bg-white rounded p-4 mb-4">
            <img src="/api/streak?username=lonestill&theme=tokyonight&hide_border=true" alt="Streak Card" class="w-full" />
          </div>
          <p class="text-sm text-slate-400 mb-3">Show your contribution streak</p>
          <button onclick="loadExample('streak')" class="w-full bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded text-sm">
            Use This Card
          </button>
        </div>

        <!-- Activity Graph Card -->
        <div class="bg-slate-800 rounded-lg p-6 border border-slate-700 card-example">
          <h3 class="text-xl font-bold mb-3 text-pink-400">üìà Activity Graph</h3>
          <div class="bg-white rounded p-4 mb-4">
            <img src="/api/activity-graph?username=lonestill&theme=tokyonight&hide_border=true" alt="Activity Graph" class="w-full" />
          </div>
          <p class="text-sm text-slate-400 mb-3">Visualize your contribution activity</p>
          <button onclick="loadExample('activity-graph')" class="w-full bg-pink-600 hover:bg-pink-700 text-white px-4 py-2 rounded text-sm">
            Use This Card
          </button>
        </div>

        <!-- Pin Card -->
        <div class="bg-slate-800 rounded-lg p-6 border border-slate-700 card-example">
          <h3 class="text-xl font-bold mb-3 text-indigo-400">üìå Repository Pin</h3>
          <div class="bg-white rounded p-4 mb-4">
            <img src="/api/pin?username=lonestill&repo=github-readme-stats&theme=tokyonight&hide_border=true" alt="Pin Card" class="w-full" />
          </div>
          <p class="text-sm text-slate-400 mb-3">Pin your favorite repositories</p>
          <button onclick="loadExample('pin')" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded text-sm">
            Use This Card
          </button>
        </div>
      </div>
    </div>

    <!-- Quick Examples Section -->
    <div class="mb-12">
      <h2 class="text-3xl font-bold mb-6 text-center text-purple-400">Quick Examples</h2>
      <div class="bg-slate-800 rounded-lg p-6 border border-slate-700">
        <div class="flex flex-wrap gap-2 mb-4" id="exampleTabs">
          <button class="tab-button active px-4 py-2 rounded bg-slate-700 hover:bg-slate-600 text-sm" onclick="showExample('stats')">
            Stats
          </button>
          <button class="tab-button px-4 py-2 rounded bg-slate-700 hover:bg-slate-600 text-sm" onclick="showExample('top-langs')">
            Top Langs
          </button>
          <button class="tab-button px-4 py-2 rounded bg-slate-700 hover:bg-slate-600 text-sm" onclick="showExample('trophy')">
            Trophy
          </button>
          <button class="tab-button px-4 py-2 rounded bg-slate-700 hover:bg-slate-600 text-sm" onclick="showExample('streak')">
            Streak
          </button>
          <button class="tab-button px-4 py-2 rounded bg-slate-700 hover:bg-slate-600 text-sm" onclick="showExample('activity-graph')">
            Activity Graph
          </button>
          <button class="tab-button px-4 py-2 rounded bg-slate-700 hover:bg-slate-600 text-sm" onclick="showExample('pin')">
            Pin
          </button>
        </div>
        <div id="exampleContent" class="space-y-4">
          <!-- Stats Example -->
          <div id="example-stats" class="example-content">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <h4 class="font-semibold mb-2">Basic Stats Card</h4>
                <div class="code-block text-xs">
                  <code>![GitHub stats](https://github-readme-stats-lonestill.vercel.app/api?username=lonestill)</code>
                </div>
                <div class="bg-white rounded p-2 mt-2">
                  <img src="/api?username=lonestill" alt="Basic Stats" class="w-full" />
                </div>
              </div>
              <div>
                <h4 class="font-semibold mb-2">With Icons & Theme</h4>
                <div class="code-block text-xs">
                  <code>![GitHub stats](https://github-readme-stats-lonestill.vercel.app/api?username=lonestill&show_icons=true&theme=tokyonight)</code>
                </div>
                <div class="bg-white rounded p-2 mt-2">
                  <img src="/api?username=lonestill&show_icons=true&theme=tokyonight" alt="Stats with Icons" class="w-full" />
                </div>
              </div>
            </div>
          </div>

          <!-- Top Langs Example -->
          <div id="example-top-langs" class="example-content hidden">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <h4 class="font-semibold mb-2">Normal Layout</h4>
                <div class="code-block text-xs">
                  <code>![Top Langs](https://github-readme-stats-lonestill.vercel.app/api/top-langs?username=lonestill)</code>
                </div>
                <div class="bg-white rounded p-2 mt-2">
                  <img src="/api/top-langs?username=lonestill" alt="Top Langs" class="w-full" />
                </div>
              </div>
              <div>
                <h4 class="font-semibold mb-2">Compact Layout</h4>
                <div class="code-block text-xs">
                  <code>![Top Langs](https://github-readme-stats-lonestill.vercel.app/api/top-langs?username=lonestill&layout=compact)</code>
                </div>
                <div class="bg-white rounded p-2 mt-2">
                  <img src="/api/top-langs?username=lonestill&layout=compact" alt="Top Langs Compact" class="w-full" />
                </div>
              </div>
            </div>
          </div>

          <!-- Trophy Example -->
          <div id="example-trophy" class="example-content hidden">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <h4 class="font-semibold mb-2">Trophy Card</h4>
                <div class="code-block text-xs">
                  <code>![Trophies](https://github-readme-stats-lonestill.vercel.app/api/trophy?username=lonestill&theme=tokyonight)</code>
                </div>
                <div class="bg-white rounded p-2 mt-2">
                  <img src="/api/trophy?username=lonestill&theme=tokyonight&column=7" alt="Trophy" class="w-full" />
                </div>
              </div>
              <div>
                <h4 class="font-semibold mb-2">With Custom Columns</h4>
                <div class="code-block text-xs">
                  <code>![Trophies](https://github-readme-stats-lonestill.vercel.app/api/trophy?username=lonestill&column=5)</code>
                </div>
                <div class="bg-white rounded p-2 mt-2">
                  <img src="/api/trophy?username=lonestill&column=5" alt="Trophy 5 cols" class="w-full" />
                </div>
              </div>
            </div>
          </div>

          <!-- Streak Example -->
          <div id="example-streak" class="example-content hidden">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <h4 class="font-semibold mb-2">Streak Card</h4>
                <div class="code-block text-xs">
                  <code>![GitHub Streak](https://github-readme-stats-lonestill.vercel.app/api/streak?username=lonestill)</code>
                </div>
                <div class="bg-white rounded p-2 mt-2">
                  <img src="/api/streak?username=lonestill&theme=tokyonight" alt="Streak" class="w-full" />
                </div>
              </div>
              <div>
                <h4 class="font-semibold mb-2">With Theme</h4>
                <div class="code-block text-xs">
                  <code>![GitHub Streak](https://github-readme-stats-lonestill.vercel.app/api/streak?username=lonestill&theme=radical)</code>
                </div>
                <div class="bg-white rounded p-2 mt-2">
                  <img src="/api/streak?username=lonestill&theme=radical" alt="Streak Radical" class="w-full" />
                </div>
              </div>
            </div>
          </div>

          <!-- Activity Graph Example -->
          <div id="example-activity-graph" class="example-content hidden">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <h4 class="font-semibold mb-2">Activity Graph (Current Year)</h4>
                <div class="code-block text-xs">
                  <code>![Activity Graph](https://github-readme-stats-lonestill.vercel.app/api/activity-graph?username=lonestill)</code>
                </div>
                <div class="bg-white rounded p-2 mt-2">
                  <img src="/api/activity-graph?username=lonestill&theme=tokyonight" alt="Activity Graph" class="w-full" />
                </div>
              </div>
              <div>
                <h4 class="font-semibold mb-2">Specific Year</h4>
                <div class="code-block text-xs">
                  <code>![Activity Graph](https://github-readme-stats-lonestill.vercel.app/api/activity-graph?username=lonestill&year=2024)</code>
                </div>
                <div class="bg-white rounded p-2 mt-2">
                  <img src="/api/activity-graph?username=lonestill&year=2024&theme=tokyonight" alt="Activity 2024" class="w-full" />
                </div>
              </div>
            </div>
          </div>

          <!-- Pin Example -->
          <div id="example-pin" class="example-content hidden">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <h4 class="font-semibold mb-2">Repository Pin</h4>
                <div class="code-block text-xs">
                  <code>![Repo Card](https://github-readme-stats-lonestill.vercel.app/api/pin?username=lonestill&repo=github-readme-stats)</code>
                </div>
                <div class="bg-white rounded p-2 mt-2">
                  <img src="/api/pin?username=lonestill&repo=github-readme-stats" alt="Pin" class="w-full" />
                </div>
              </div>
              <div>
                <h4 class="font-semibold mb-2">With Owner</h4>
                <div class="code-block text-xs">
                  <code>![Repo Card](https://github-readme-stats-lonestill.vercel.app/api/pin?username=lonestill&repo=github-readme-stats&show_owner=true)</code>
                </div>
                <div class="bg-white rounded p-2 mt-2">
                  <img src="/api/pin?username=lonestill&repo=github-readme-stats&show_owner=true" alt="Pin Owner" class="w-full" />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Card Constructor -->
    <div id="constructor" class="mb-12">
      <h2 class="text-3xl font-bold mb-6 text-center text-blue-400">Card Constructor</h2>
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <!-- Configuration Panel -->
        <div class="space-y-6">
          <div class="bg-slate-800 rounded-lg p-6 border border-slate-700">
            <div class="flex justify-between items-center mb-4">
              <h2 class="text-2xl font-bold text-blue-400">Card Configuration</h2>
              <div class="flex gap-2 flex-wrap">
                <button onclick="saveConfig()" class="bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm">
                  üíæ Save
                </button>
                <button onclick="loadConfig()" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                  üìÇ Load
                </button>
                <button onclick="exportConfig()" class="bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded text-sm">
                  üì§ Export
                </button>
                <button onclick="importConfig()" class="bg-orange-600 hover:bg-orange-700 text-white px-3 py-1 rounded text-sm">
                  üì• Import
                </button>
              </div>
            </div>
            
            <div class="space-y-4">
              <div>
                <label class="block text-sm font-medium mb-2">GitHub Username</label>
                <input 
                  type="text" 
                  id="username" 
                  value="lonestill"
                  class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                  placeholder="Enter your GitHub username">
              </div>

              <div>
                <label class="block text-sm font-medium mb-2">Card Type</label>
                <select id="cardType" class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none">
                  <option value="stats">Stats Card</option>
                  <option value="top-langs">Top Languages</option>
                  <option value="pin">Repository Pin</option>
                  <option value="gist">Gist Card</option>
                  <option value="wakatime">WakaTime Stats</option>
                  <option value="trophy">Trophy Card</option>
                  <option value="streak">Streak Card</option>
                  <option value="activity-graph">Activity Graph</option>
                </select>
              </div>

              <!-- Presets -->
              <div class="bg-slate-900 rounded p-4 border border-slate-700">
                <label class="block text-sm font-medium mb-2">Quick Presets</label>
                <div class="flex flex-wrap gap-2">
                  <button onclick="applyPreset('minimal')" class="bg-slate-700 hover:bg-slate-600 text-white px-3 py-1 rounded text-xs">
                    Minimal
                  </button>
                  <button onclick="applyPreset('detailed')" class="bg-slate-700 hover:bg-slate-600 text-white px-3 py-1 rounded text-xs">
                    Detailed
                  </button>
                  <button onclick="applyPreset('dark')" class="bg-slate-700 hover:bg-slate-600 text-white px-3 py-1 rounded text-xs">
                    Dark Theme
                  </button>
                  <button onclick="applyPreset('colorful')" class="bg-slate-700 hover:bg-slate-600 text-white px-3 py-1 rounded text-xs">
                    Colorful
                  </button>
                </div>
              </div>

              <!-- Common Options (for all cards) -->
              <div id="commonOptions" class="space-y-4 border-t border-slate-700 pt-4 mt-4">
                <h3 class="text-lg font-semibold text-slate-300 mb-3">Common Options</h3>
                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium mb-2">Hide Border</label>
                    <input type="checkbox" id="commonHideBorder" class="w-5 h-5" checked>
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-2">Hide Title</label>
                    <input type="checkbox" id="commonHideTitle" class="w-5 h-5">
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Card Width (px)</label>
                  <input 
                    type="number" 
                    id="commonCardWidth"
                    min="200"
                    max="2000"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="Auto">
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Border Radius</label>
                  <input 
                    type="number" 
                    id="commonBorderRadius"
                    min="0"
                    max="20"
                    step="0.5"
                    value="4.5"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none">
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Locale</label>
                  <select id="commonLocale" class="theme-select w-full">
                    <option value="">Default (en)</option>
                    <option value="ar">Arabic</option>
                    <option value="az">Azerbaijani</option>
                    <option value="bg">Bulgarian</option>
                    <option value="bn">Bengali</option>
                    <option value="ca">Catalan</option>
                    <option value="cn">Chinese</option>
                    <option value="zh-tw">Chinese (Taiwan)</option>
                    <option value="cs">Czech</option>
                    <option value="de">German</option>
                    <option value="el">Greek</option>
                    <option value="en">English</option>
                    <option value="es">Spanish</option>
                    <option value="fa">Persian (Farsi)</option>
                    <option value="fi">Finnish</option>
                    <option value="fil">Filipino</option>
                    <option value="fr">French</option>
                    <option value="he">Hebrew</option>
                    <option value="hi">Hindi</option>
                    <option value="hu">Hungarian</option>
                    <option value="id">Indonesian</option>
                    <option value="it">Italian</option>
                    <option value="ja">Japanese</option>
                    <option value="kr">Korean</option>
                    <option value="ml">Malayalam</option>
                    <option value="my">Burmese</option>
                    <option value="nl">Dutch</option>
                    <option value="np">Nepali</option>
                    <option value="no">Norwegian</option>
                    <option value="pl">Polish</option>
                    <option value="pt-br">Portuguese (Brazil)</option>
                    <option value="pt-pt">Portuguese (Portugal)</option>
                    <option value="ro">Romanian</option>
                    <option value="ru">Russian</option>
                    <option value="sa">Sanskrit</option>
                    <option value="se">Swedish</option>
                    <option value="sk">Slovak</option>
                    <option value="sr">Serbian (Cyrillic)</option>
                    <option value="sr-latn">Serbian (Latin)</option>
                    <option value="sw">Swahili</option>
                    <option value="ta">Tamil</option>
                    <option value="th">Thai</option>
                    <option value="tr">Turkish</option>
                    <option value="uk-ua">Ukrainian</option>
                    <option value="ur">Urdu</option>
                    <option value="uz">Uzbek</option>
                    <option value="vi">Vietnamese</option>
                  </select>
                </div>
                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium mb-2">Title Color (hex)</label>
                    <input 
                      type="text" 
                      id="commonTitleColor"
                      class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                      placeholder="2f80ed">
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-2">Text Color (hex)</label>
                    <input 
                      type="text" 
                      id="commonTextColor"
                      class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                      placeholder="434d58">
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-2">Icon Color (hex)</label>
                    <input 
                      type="text" 
                      id="commonIconColor"
                      class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                      placeholder="4c71f2">
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-2">Border Color (hex)</label>
                    <input 
                      type="text" 
                      id="commonBorderColor"
                      class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                      placeholder="e4e2e2">
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Background Color (hex or gradient)</label>
                  <input 
                    type="text" 
                    id="commonBgColor"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="fffefe or 30,e96443,904e95">
                  <p class="text-xs text-slate-400 mt-1">For gradient: DEG,COLOR1,COLOR2,COLOR3...</p>
                </div>
              </div>

              <!-- Stats Card Options -->
              <div id="statsOptions" class="space-y-4">
                <h3 class="text-lg font-semibold text-blue-400 mb-3">Stats Card Options</h3>
                <div>
                  <label class="block text-sm font-medium mb-2">Theme</label>
                  <select id="theme" class="theme-select w-full">
                    <option value="default">Default</option>
                    <option value="dark">Dark</option>
                    <option value="radical">Radical</option>
                    <option value="merko">Merko</option>
                    <option value="gruvbox">Gruvbox</option>
                    <option value="tokyonight" selected>Tokyo Night</option>
                    <option value="onedark">One Dark</option>
                    <option value="cobalt">Cobalt</option>
                    <option value="synthwave">Synthwave</option>
                    <option value="highcontrast">High Contrast</option>
                    <option value="dracula">Dracula</option>
                    <option value="transparent">Transparent</option>
                    <option value="prussian">Prussian</option>
                    <option value="monokai">Monokai</option>
                    <option value="vue">Vue</option>
                    <option value="vue-dark">Vue Dark</option>
                    <option value="shades-of-purple">Shades of Purple</option>
                    <option value="nightowl">Night Owl</option>
                    <option value="buefy">Buefy</option>
                    <option value="blue-green">Blue Green</option>
                    <option value="algolia">Algolia</option>
                    <option value="great-gatsby">Great Gatsby</option>
                    <option value="darcula">Darcula</option>
                    <option value="bear">Bear</option>
                    <option value="solarized-dark">Solarized Dark</option>
                    <option value="solarized-light">Solarized Light</option>
                    <option value="chartreuse-dark">Chartreuse Dark</option>
                    <option value="nord">Nord</option>
                    <option value="gotham">Gotham</option>
                    <option value="material-palenight">Material Palenight</option>
                    <option value="graywhite">Gray White</option>
                    <option value="vision-friendly-dark">Vision Friendly Dark</option>
                    <option value="ayu-mirage">Ayu Mirage</option>
                    <option value="midnight-purple">Midnight Purple</option>
                    <option value="calm">Calm</option>
                    <option value="omni">Omni</option>
                    <option value="react">React</option>
                    <option value="jolly">Jolly</option>
                    <option value="maroongold">Maroon Gold</option>
                    <option value="yeblu">Yeblu</option>
                    <option value="blueberry">Blueberry</option>
                    <option value="slateorange">Slate Orange</option>
                    <option value="kacho_ga">Kacho Ga</option>
                    <option value="outrun">Outrun</option>
                    <option value="ocean_dark">Ocean Dark</option>
                    <option value="city_lights">City Lights</option>
                    <option value="github_dark">GitHub Dark</option>
                    <option value="github_dark_dimmed">GitHub Dark Dimmed</option>
                    <option value="discord_old_blurple">Discord Old Blurple</option>
                    <option value="aura_dark">Aura Dark</option>
                    <option value="panda">Panda</option>
                    <option value="noctis_minimus">Noctis Minimus</option>
                    <option value="cobalt2">Cobalt2</option>
                    <option value="swift">Swift</option>
                    <option value="aura">Aura</option>
                    <option value="apprentice">Apprentice</option>
                    <option value="moltack">Moltack</option>
                    <option value="codeSTACKr">CodeSTACKr</option>
                    <option value="rose_pine">Rose Pine</option>
                    <option value="catppuccin_latte">Catppuccin Latte</option>
                    <option value="catppuccin_mocha">Catppuccin Mocha</option>
                    <option value="date_night">Date Night</option>
                    <option value="one_dark_pro">One Dark Pro</option>
                    <option value="rose">Rose</option>
                    <option value="holi">Holi</option>
                    <option value="neon">Neon</option>
                    <option value="blue_navy">Blue Navy</option>
                    <option value="calm_pink">Calm Pink</option>
                    <option value="ambient_gradient">Ambient Gradient</option>
                  </select>
                </div>

                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium mb-2">Show Icons</label>
                    <input type="checkbox" id="showIcons" class="w-5 h-5">
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-2">Hide Rank</label>
                    <input type="checkbox" id="hideRank" class="w-5 h-5">
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-2">Include All Commits</label>
                    <input type="checkbox" id="includeAllCommits" class="w-5 h-5">
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-2">Text Bold</label>
                    <input type="checkbox" id="textBold" class="w-5 h-5" checked>
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-2">Disable Animations</label>
                    <input type="checkbox" id="disableAnimations" class="w-5 h-5">
                  </div>
                </div>

                <div>
                  <label class="block text-sm font-medium mb-2">Hide Stats (comma-separated)</label>
                  <input 
                    type="text" 
                    id="hideStats"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="stars,commits,prs,issues,contribs">
                </div>

                <div>
                  <label class="block text-sm font-medium mb-2">Show Additional Stats (comma-separated)</label>
                  <input 
                    type="text" 
                    id="showStats"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="reviews,discussions_started,discussions_answered,prs_merged,prs_merged_percentage">
                </div>

                <div>
                  <label class="block text-sm font-medium mb-2">Custom Title</label>
                  <input 
                    type="text" 
                    id="customTitle"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="Custom card title">
                </div>

                <div>
                  <label class="block text-sm font-medium mb-2">Exclude Repositories (comma-separated)</label>
                  <input 
                    type="text" 
                    id="excludeRepo"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="repo1,repo2">
                </div>

                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium mb-2">Line Height</label>
                    <input 
                      type="number" 
                      id="lineHeight"
                      min="10"
                      max="50"
                      value="25"
                      class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none">
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-2">Ring Color (hex)</label>
                    <input 
                      type="text" 
                      id="ringColor"
                      class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                      placeholder="2f80ed">
                  </div>
                </div>

                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium mb-2">Number Format</label>
                    <select id="numberFormat" class="theme-select w-full">
                      <option value="short" selected>Short (6.6k)</option>
                      <option value="long">Long (6626)</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-2">Number Precision (0-2)</label>
                    <input 
                      type="number" 
                      id="numberPrecision"
                      min="0"
                      max="2"
                      class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                      placeholder="Auto">
                  </div>
                </div>

                <div>
                  <label class="block text-sm font-medium mb-2">Rank Icon</label>
                  <select id="rankIcon" class="theme-select w-full">
                    <option value="default" selected>Default</option>
                    <option value="github">GitHub</option>
                    <option value="percentile">Percentile</option>
                  </select>
                </div>

                <div>
                  <label class="block text-sm font-medium mb-2">Commits Year (YYYY, optional)</label>
                  <input 
                    type="number" 
                    id="commitsYear"
                    min="2008"
                    max="2030"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="Leave empty for current year">
                </div>
              </div>

              <!-- Top Langs Options -->
              <div id="topLangsOptions" class="space-y-4 hidden">
                <h3 class="text-lg font-semibold text-green-400 mb-3">Top Languages Options</h3>
                <div>
                  <label class="block text-sm font-medium mb-2">Theme</label>
                  <select id="topLangsTheme" class="theme-select w-full">
                    <option value="tokyonight" selected>Tokyo Night</option>
                    <option value="dark">Dark</option>
                    <option value="radical">Radical</option>
                    <option value="dracula">Dracula</option>
                    <option value="default">Default</option>
                    <option value="merko">Merko</option>
                    <option value="gruvbox">Gruvbox</option>
                    <option value="onedark">One Dark</option>
                    <option value="cobalt">Cobalt</option>
                    <option value="synthwave">Synthwave</option>
                    <option value="highcontrast">High Contrast</option>
                    <option value="transparent">Transparent</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Layout</label>
                  <select id="layout" class="theme-select w-full">
                    <option value="normal">Normal</option>
                    <option value="compact" selected>Compact</option>
                    <option value="donut">Donut</option>
                    <option value="donut-vertical">Donut Vertical</option>
                    <option value="pie">Pie</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Languages Count (1-20)</label>
                  <input 
                    type="number" 
                    id="langsCount"
                    min="1"
                    max="20"
                    value="5"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none">
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Hide Languages (comma-separated)</label>
                  <input 
                    type="text" 
                    id="topLangsHide"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="javascript,html,css">
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Exclude Repositories (comma-separated)</label>
                  <input 
                    type="text" 
                    id="topLangsExcludeRepo"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="repo1,repo2">
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Custom Title</label>
                  <input 
                    type="text" 
                    id="topLangsCustomTitle"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="Most Used Languages">
                </div>
                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium mb-2">Size Weight</label>
                    <input 
                      type="number" 
                      id="sizeWeight"
                      min="0"
                      max="2"
                      step="0.1"
                      value="1"
                      class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none">
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-2">Count Weight</label>
                    <input 
                      type="number" 
                      id="countWeight"
                      min="0"
                      max="2"
                      step="0.1"
                      value="0"
                      class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none">
                  </div>
                </div>
                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium mb-2">Stats Format</label>
                    <select id="statsFormat" class="theme-select w-full">
                      <option value="percentages" selected>Percentages</option>
                      <option value="bytes">Bytes</option>
                    </select>
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-2">Hide Progress</label>
                    <input type="checkbox" id="hideProgress" class="w-5 h-5">
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-2">Disable Animations</label>
                    <input type="checkbox" id="topLangsDisableAnimations" class="w-5 h-5">
                  </div>
                </div>
              </div>

              <!-- Pin Options -->
              <div id="pinOptions" class="space-y-4 hidden">
                <h3 class="text-lg font-semibold text-indigo-400 mb-3">Repository Pin Options</h3>
                <div>
                  <label class="block text-sm font-medium mb-2">Repository Name</label>
                  <input 
                    type="text" 
                    id="repoName"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="repository-name">
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Theme</label>
                  <select id="pinTheme" class="theme-select w-full">
                    <option value="default_repocard" selected>Default Repo Card</option>
                    <option value="tokyonight">Tokyo Night</option>
                    <option value="dark">Dark</option>
                    <option value="radical">Radical</option>
                    <option value="dracula">Dracula</option>
                    <option value="transparent">Transparent</option>
                  </select>
                </div>
                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium mb-2">Show Owner</label>
                    <input type="checkbox" id="showOwner" class="w-5 h-5">
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Description Lines Count (1-3)</label>
                  <input 
                    type="number" 
                    id="descriptionLinesCount"
                    min="1"
                    max="3"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="Auto">
                </div>
              </div>

              <!-- Gist Options -->
              <div id="gistOptions" class="space-y-4 hidden">
                <h3 class="text-lg font-semibold text-cyan-400 mb-3">Gist Card Options</h3>
                <div>
                  <label class="block text-sm font-medium mb-2">Gist ID</label>
                  <input 
                    type="text" 
                    id="gistId"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="bbfce31e0217a3689c8d961a356cb10d">
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Theme</label>
                  <select id="gistTheme" class="theme-select w-full">
                    <option value="default" selected>Default</option>
                    <option value="tokyonight">Tokyo Night</option>
                    <option value="dark">Dark</option>
                    <option value="radical">Radical</option>
                    <option value="dracula">Dracula</option>
                    <option value="calm">Calm</option>
                    <option value="transparent">Transparent</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Show Owner</label>
                  <input type="checkbox" id="gistShowOwner" class="w-5 h-5">
                </div>
              </div>

              <!-- WakaTime Options -->
              <div id="wakatimeOptions" class="space-y-4 hidden">
                <h3 class="text-lg font-semibold text-orange-400 mb-3">WakaTime Card Options</h3>
                <div>
                  <label class="block text-sm font-medium mb-2">WakaTime Username</label>
                  <input 
                    type="text" 
                    id="wakatimeUsername"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="wakatime-username">
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Theme</label>
                  <select id="wakatimeTheme" class="theme-select w-full">
                    <option value="default" selected>Default</option>
                    <option value="tokyonight">Tokyo Night</option>
                    <option value="dark">Dark</option>
                    <option value="radical">Radical</option>
                    <option value="dracula">Dracula</option>
                    <option value="transparent">Transparent</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Layout</label>
                  <select id="wakatimeLayout" class="theme-select w-full">
                    <option value="default" selected>Default</option>
                    <option value="compact">Compact</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Custom Title</label>
                  <input 
                    type="text" 
                    id="wakatimeCustomTitle"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="WakaTime Stats">
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Hide Languages (comma-separated)</label>
                  <input 
                    type="text" 
                    id="wakatimeHide"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="language1,language2">
                </div>
                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium mb-2">Languages Count</label>
                    <input 
                      type="number" 
                      id="wakatimeLangsCount"
                      min="1"
                      max="20"
                      class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                      placeholder="All">
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-2">Line Height</label>
                    <input 
                      type="number" 
                      id="wakatimeLineHeight"
                      min="10"
                      max="50"
                      value="25"
                      class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none">
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">API Domain</label>
                  <input 
                    type="text" 
                    id="wakatimeApiDomain"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="wakatime.com">
                  <p class="text-xs text-slate-400 mt-1">For custom APIs like Hakatime or Wakapi</p>
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Display Format</label>
                  <select id="wakatimeDisplayFormat" class="theme-select w-full">
                    <option value="time" selected>Time</option>
                    <option value="percent">Percent</option>
                  </select>
                </div>
                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium mb-2">Hide Progress</label>
                    <input type="checkbox" id="wakatimeHideProgress" class="w-5 h-5">
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-2">Disable Animations</label>
                    <input type="checkbox" id="wakatimeDisableAnimations" class="w-5 h-5">
                  </div>
                </div>
              </div>

              <!-- Trophy Options -->
              <div id="trophyOptions" class="space-y-4 hidden">
                <h3 class="text-lg font-semibold text-yellow-400 mb-3">Trophy Card Options</h3>
                <div>
                  <label class="block text-sm font-medium mb-2">Theme</label>
                  <select id="trophyTheme" class="theme-select w-full">
                    <option value="tokyonight" selected>Tokyo Night</option>
                    <option value="dark">Dark</option>
                    <option value="radical">Radical</option>
                    <option value="dracula">Dracula</option>
                    <option value="default">Default</option>
                    <option value="merko">Merko</option>
                    <option value="gruvbox">Gruvbox</option>
                    <option value="onedark">One Dark</option>
                    <option value="cobalt">Cobalt</option>
                    <option value="synthwave">Synthwave</option>
                    <option value="highcontrast">High Contrast</option>
                    <option value="transparent">Transparent</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Custom Title</label>
                  <input 
                    type="text" 
                    id="trophyCustomTitle"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="GitHub Trophies">
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Columns</label>
                  <input 
                    type="number" 
                    id="trophyColumns"
                    min="1"
                    max="10"
                    value="7"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none">
                </div>
                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium mb-2">Margin Width</label>
                    <input 
                      type="number" 
                      id="trophyMarginW"
                      min="0"
                      max="50"
                      value="15"
                      class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none">
                  </div>
                  <div>
                    <label class="block text-sm font-medium mb-2">Margin Height</label>
                    <input 
                      type="number" 
                      id="trophyMarginH"
                      min="0"
                      max="50"
                      value="15"
                      class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none">
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Hide Trophy Categories (comma-separated)</label>
                  <input 
                    type="text" 
                    id="trophyHide"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="stars,commits,prs">
                </div>
                <div class="grid grid-cols-2 gap-4">
                  <div>
                    <label class="block text-sm font-medium mb-2">Include All Commits</label>
                    <input type="checkbox" id="trophyIncludeAllCommits" class="w-5 h-5">
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Exclude Repositories (comma-separated)</label>
                  <input 
                    type="text" 
                    id="trophyExcludeRepo"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="repo1,repo2">
                </div>
              </div>

              <!-- Streak Options -->
              <div id="streakOptions" class="space-y-4 hidden">
                <h3 class="text-lg font-semibold text-red-400 mb-3">Streak Card Options</h3>
                <div>
                  <label class="block text-sm font-medium mb-2">Theme</label>
                  <select id="streakTheme" class="theme-select w-full">
                    <option value="tokyonight" selected>Tokyo Night</option>
                    <option value="dark">Dark</option>
                    <option value="radical">Radical</option>
                    <option value="dracula">Dracula</option>
                    <option value="default">Default</option>
                    <option value="merko">Merko</option>
                    <option value="gruvbox">Gruvbox</option>
                    <option value="onedark">One Dark</option>
                    <option value="cobalt">Cobalt</option>
                    <option value="synthwave">Synthwave</option>
                    <option value="highcontrast">High Contrast</option>
                    <option value="transparent">Transparent</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Custom Title</label>
                  <input 
                    type="text" 
                    id="streakCustomTitle"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="GitHub Streak">
                </div>
              </div>

              <!-- Activity Graph Options -->
              <div id="activityGraphOptions" class="space-y-4 hidden">
                <h3 class="text-lg font-semibold text-pink-400 mb-3">Activity Graph Options</h3>
                <div>
                  <label class="block text-sm font-medium mb-2">Theme</label>
                  <select id="activityGraphTheme" class="theme-select w-full">
                    <option value="tokyonight" selected>Tokyo Night</option>
                    <option value="dark">Dark</option>
                    <option value="radical">Radical</option>
                    <option value="dracula">Dracula</option>
                    <option value="default">Default</option>
                    <option value="merko">Merko</option>
                    <option value="gruvbox">Gruvbox</option>
                    <option value="onedark">One Dark</option>
                    <option value="cobalt">Cobalt</option>
                    <option value="synthwave">Synthwave</option>
                    <option value="highcontrast">High Contrast</option>
                    <option value="transparent">Transparent</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Custom Title</label>
                  <input 
                    type="text" 
                    id="activityGraphCustomTitle"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="GitHub Activity">
                </div>
                <div>
                  <label class="block text-sm font-medium mb-2">Year (optional)</label>
                  <input 
                    type="number" 
                    id="activityYear"
                    min="2008"
                    max="2030"
                    class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none"
                    placeholder="Leave empty for current year">
                </div>
              </div>

              <button 
                onclick="generateCard()"
                class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-colors">
                Generate Card
              </button>
            </div>
          </div>

          <!-- Saved Configurations -->
          <div class="bg-slate-800 rounded-lg p-6 border border-slate-700">
            <h3 class="text-xl font-bold mb-4 text-purple-400">Saved Configurations</h3>
            <div id="savedConfigs" class="space-y-2">
              <p class="text-slate-400 text-sm">No saved configurations yet</p>
            </div>
          </div>
        </div>

        <!-- Preview Panel -->
        <div class="space-y-6">
          <div class="bg-slate-800 rounded-lg p-6 border border-slate-700">
            <h2 class="text-2xl font-bold mb-4 text-purple-400">Preview</h2>
            <div id="preview" class="card-preview min-h-[200px] flex items-center justify-center">
              <p class="text-slate-500">Configure your card and click "Generate Card" to see preview</p>
            </div>
          </div>

          <div class="bg-slate-800 rounded-lg p-6 border border-slate-700">
            <h2 class="text-2xl font-bold mb-4 text-green-400">Markdown Code</h2>
            <div class="code-block" id="markdownCode">
              <code>Configure your card to generate markdown code</code>
            </div>
            <button 
              onclick="copyMarkdown()"
              class="mt-4 w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded transition-colors">
              Copy Markdown
            </button>
          </div>

          <div class="bg-slate-800 rounded-lg p-6 border border-slate-700">
            <h2 class="text-2xl font-bold mb-4 text-yellow-400">Direct URL</h2>
            <div class="code-block" id="directUrl">
              <code>Configure your card to generate URL</code>
            </div>
            <button 
              onclick="copyUrl()"
              class="mt-4 w-full bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded transition-colors">
              Copy URL
            </button>
          </div>

          <!-- Full README Template -->
          <div class="bg-slate-800 rounded-lg p-6 border border-slate-700">
            <h2 class="text-2xl font-bold mb-4 text-pink-400">Full README Template</h2>
            <div class="code-block" id="fullReadme" style="max-height: 300px; overflow-y: auto;">
              <code>Generate cards to see full README template</code>
            </div>
            <button 
              onclick="copyFullReadme()"
              class="mt-4 w-full bg-pink-600 hover:bg-pink-700 text-white font-bold py-2 px-4 rounded transition-colors">
              Copy Full README
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const baseUrl = window.location.origin;
    let savedConfigs = JSON.parse(localStorage.getItem('github-readme-stats-configs') || '[]');
    let currentConfig = null;

    // Load saved configs on page load
    window.addEventListener('DOMContentLoaded', () => {
      loadSavedConfigs();
      // Auto-generate on load if username exists
      const username = document.getElementById('username').value;
      if (username) {
        setTimeout(() => generateCard(), 500);
      }
    });

    function getCardType() {
      return document.getElementById('cardType').value;
    }

    function getUsername() {
      return document.getElementById('username').value || 'lonestill';
    }

    function getAllConfig() {
      const cardType = getCardType();
      const config = {
        username: getUsername(),
        cardType: cardType,
        // Common options
        hideBorder: document.getElementById('commonHideBorder')?.checked ?? false,
        hideTitle: document.getElementById('commonHideTitle')?.checked ?? false,
        cardWidth: document.getElementById('commonCardWidth')?.value || null,
        borderRadius: document.getElementById('commonBorderRadius')?.value || null,
        locale: document.getElementById('commonLocale')?.value || null,
        titleColor: document.getElementById('commonTitleColor')?.value.trim() || null,
        textColor: document.getElementById('commonTextColor')?.value.trim() || null,
        iconColor: document.getElementById('commonIconColor')?.value.trim() || null,
        borderColor: document.getElementById('commonBorderColor')?.value.trim() || null,
        bgColor: document.getElementById('commonBgColor')?.value.trim() || null,
      };

      if (cardType === 'stats') {
        config.theme = document.getElementById('theme').value;
        config.showIcons = document.getElementById('showIcons').checked;
        config.hideRank = document.getElementById('hideRank').checked;
        config.includeAllCommits = document.getElementById('includeAllCommits').checked;
        config.textBold = document.getElementById('textBold').checked;
        config.disableAnimations = document.getElementById('disableAnimations').checked;
        config.hideStats = document.getElementById('hideStats').value.trim();
        config.showStats = document.getElementById('showStats').value.trim();
        config.customTitle = document.getElementById('customTitle').value.trim();
        config.excludeRepo = document.getElementById('excludeRepo').value.trim();
        config.lineHeight = document.getElementById('lineHeight').value || null;
        config.ringColor = document.getElementById('ringColor').value.trim() || null;
        config.numberFormat = document.getElementById('numberFormat').value;
        config.numberPrecision = document.getElementById('numberPrecision').value || null;
        config.rankIcon = document.getElementById('rankIcon').value;
        config.commitsYear = document.getElementById('commitsYear').value || null;
      } else if (cardType === 'top-langs') {
        config.theme = document.getElementById('topLangsTheme')?.value || 'tokyonight';
        config.layout = document.getElementById('layout').value;
        config.langsCount = document.getElementById('langsCount').value;
        config.hide = document.getElementById('topLangsHide')?.value.trim() || null;
        config.excludeRepo = document.getElementById('topLangsExcludeRepo')?.value.trim() || null;
        config.customTitle = document.getElementById('topLangsCustomTitle')?.value.trim() || null;
        config.sizeWeight = document.getElementById('sizeWeight')?.value || null;
        config.countWeight = document.getElementById('countWeight')?.value || null;
        config.statsFormat = document.getElementById('statsFormat')?.value || null;
        config.hideProgress = document.getElementById('hideProgress')?.checked || false;
        config.disableAnimations = document.getElementById('topLangsDisableAnimations')?.checked || false;
      } else if (cardType === 'pin') {
        config.repoName = document.getElementById('repoName').value.trim();
        config.theme = document.getElementById('pinTheme')?.value || 'default_repocard';
        config.showOwner = document.getElementById('showOwner').checked;
        config.descriptionLinesCount = document.getElementById('descriptionLinesCount')?.value || null;
      } else if (cardType === 'gist') {
        config.gistId = document.getElementById('gistId').value.trim();
        config.theme = document.getElementById('gistTheme')?.value || 'default';
        config.showOwner = document.getElementById('gistShowOwner').checked;
      } else if (cardType === 'wakatime') {
        config.wakatimeUsername = document.getElementById('wakatimeUsername').value.trim();
        config.theme = document.getElementById('wakatimeTheme')?.value || 'default';
        config.layout = document.getElementById('wakatimeLayout')?.value || null;
        config.customTitle = document.getElementById('wakatimeCustomTitle')?.value.trim() || null;
        config.hide = document.getElementById('wakatimeHide')?.value.trim() || null;
        config.langsCount = document.getElementById('wakatimeLangsCount')?.value || null;
        config.lineHeight = document.getElementById('wakatimeLineHeight')?.value || null;
        config.apiDomain = document.getElementById('wakatimeApiDomain')?.value.trim() || null;
        config.displayFormat = document.getElementById('wakatimeDisplayFormat')?.value || null;
        config.hideProgress = document.getElementById('wakatimeHideProgress')?.checked || false;
        config.disableAnimations = document.getElementById('wakatimeDisableAnimations')?.checked || false;
      } else if (cardType === 'trophy') {
        config.theme = document.getElementById('trophyTheme')?.value || 'tokyonight';
        config.customTitle = document.getElementById('trophyCustomTitle')?.value.trim() || null;
        config.columns = document.getElementById('trophyColumns')?.value || 7;
        config.marginW = document.getElementById('trophyMarginW')?.value || 15;
        config.marginH = document.getElementById('trophyMarginH')?.value || 15;
        config.hide = document.getElementById('trophyHide')?.value.trim() || null;
        config.includeAllCommits = document.getElementById('trophyIncludeAllCommits')?.checked || false;
        config.excludeRepo = document.getElementById('trophyExcludeRepo')?.value.trim() || null;
      } else if (cardType === 'streak') {
        config.theme = document.getElementById('streakTheme')?.value || 'tokyonight';
        config.customTitle = document.getElementById('streakCustomTitle')?.value.trim() || null;
      } else if (cardType === 'activity-graph') {
        config.theme = document.getElementById('activityGraphTheme')?.value || 'tokyonight';
        config.customTitle = document.getElementById('activityGraphCustomTitle')?.value.trim() || null;
        config.year = document.getElementById('activityYear')?.value || null;
      }

      return config;
    }

    function setAllConfig(config) {
      document.getElementById('username').value = config.username || 'lonestill';
      document.getElementById('cardType').value = config.cardType || 'stats';
      
      // Set common options
      if (config.hideBorder !== undefined) document.getElementById('commonHideBorder').checked = config.hideBorder;
      if (config.hideTitle !== undefined) document.getElementById('commonHideTitle').checked = config.hideTitle;
      if (config.cardWidth) document.getElementById('commonCardWidth').value = config.cardWidth;
      if (config.borderRadius) document.getElementById('commonBorderRadius').value = config.borderRadius;
      if (config.locale) document.getElementById('commonLocale').value = config.locale;
      if (config.titleColor) document.getElementById('commonTitleColor').value = config.titleColor;
      if (config.textColor) document.getElementById('commonTextColor').value = config.textColor;
      if (config.iconColor) document.getElementById('commonIconColor').value = config.iconColor;
      if (config.borderColor) document.getElementById('commonBorderColor').value = config.borderColor;
      if (config.bgColor) document.getElementById('commonBgColor').value = config.bgColor;
      
      // Trigger card type change to show/hide options
      document.getElementById('cardType').dispatchEvent(new Event('change'));

      if (config.cardType === 'stats') {
        if (config.theme) document.getElementById('theme').value = config.theme;
        if (config.showIcons !== undefined) document.getElementById('showIcons').checked = config.showIcons;
        if (config.hideRank !== undefined) document.getElementById('hideRank').checked = config.hideRank;
        if (config.includeAllCommits !== undefined) document.getElementById('includeAllCommits').checked = config.includeAllCommits;
        if (config.textBold !== undefined) document.getElementById('textBold').checked = config.textBold;
        if (config.disableAnimations !== undefined) document.getElementById('disableAnimations').checked = config.disableAnimations;
        if (config.hideStats) document.getElementById('hideStats').value = config.hideStats;
        if (config.showStats) document.getElementById('showStats').value = config.showStats;
        if (config.customTitle) document.getElementById('customTitle').value = config.customTitle;
        if (config.excludeRepo) document.getElementById('excludeRepo').value = config.excludeRepo;
        if (config.lineHeight) document.getElementById('lineHeight').value = config.lineHeight;
        if (config.ringColor) document.getElementById('ringColor').value = config.ringColor;
        if (config.numberFormat) document.getElementById('numberFormat').value = config.numberFormat;
        if (config.numberPrecision) document.getElementById('numberPrecision').value = config.numberPrecision;
        if (config.rankIcon) document.getElementById('rankIcon').value = config.rankIcon;
        if (config.commitsYear) document.getElementById('commitsYear').value = config.commitsYear;
      } else if (config.cardType === 'top-langs') {
        if (config.theme && document.getElementById('topLangsTheme')) document.getElementById('topLangsTheme').value = config.theme;
        if (config.layout) document.getElementById('layout').value = config.layout;
        if (config.langsCount) document.getElementById('langsCount').value = config.langsCount;
        if (config.hide && document.getElementById('topLangsHide')) document.getElementById('topLangsHide').value = config.hide;
        if (config.excludeRepo && document.getElementById('topLangsExcludeRepo')) document.getElementById('topLangsExcludeRepo').value = config.excludeRepo;
        if (config.customTitle && document.getElementById('topLangsCustomTitle')) document.getElementById('topLangsCustomTitle').value = config.customTitle;
        if (config.sizeWeight && document.getElementById('sizeWeight')) document.getElementById('sizeWeight').value = config.sizeWeight;
        if (config.countWeight && document.getElementById('countWeight')) document.getElementById('countWeight').value = config.countWeight;
        if (config.statsFormat && document.getElementById('statsFormat')) document.getElementById('statsFormat').value = config.statsFormat;
        if (config.hideProgress !== undefined && document.getElementById('hideProgress')) document.getElementById('hideProgress').checked = config.hideProgress;
        if (config.disableAnimations !== undefined && document.getElementById('topLangsDisableAnimations')) document.getElementById('topLangsDisableAnimations').checked = config.disableAnimations;
      } else if (config.cardType === 'pin') {
        if (config.repoName) document.getElementById('repoName').value = config.repoName;
        if (config.theme && document.getElementById('pinTheme')) document.getElementById('pinTheme').value = config.theme;
        if (config.showOwner !== undefined) document.getElementById('showOwner').checked = config.showOwner;
        if (config.descriptionLinesCount && document.getElementById('descriptionLinesCount')) document.getElementById('descriptionLinesCount').value = config.descriptionLinesCount;
      } else if (config.cardType === 'gist') {
        if (config.gistId) document.getElementById('gistId').value = config.gistId;
        if (config.theme && document.getElementById('gistTheme')) document.getElementById('gistTheme').value = config.theme;
        if (config.showOwner !== undefined && document.getElementById('gistShowOwner')) document.getElementById('gistShowOwner').checked = config.showOwner;
      } else if (config.cardType === 'wakatime') {
        if (config.wakatimeUsername) document.getElementById('wakatimeUsername').value = config.wakatimeUsername;
        if (config.theme && document.getElementById('wakatimeTheme')) document.getElementById('wakatimeTheme').value = config.theme;
        if (config.layout && document.getElementById('wakatimeLayout')) document.getElementById('wakatimeLayout').value = config.layout;
        if (config.customTitle && document.getElementById('wakatimeCustomTitle')) document.getElementById('wakatimeCustomTitle').value = config.customTitle;
        if (config.hide && document.getElementById('wakatimeHide')) document.getElementById('wakatimeHide').value = config.hide;
        if (config.langsCount && document.getElementById('wakatimeLangsCount')) document.getElementById('wakatimeLangsCount').value = config.langsCount;
        if (config.lineHeight && document.getElementById('wakatimeLineHeight')) document.getElementById('wakatimeLineHeight').value = config.lineHeight;
        if (config.apiDomain && document.getElementById('wakatimeApiDomain')) document.getElementById('wakatimeApiDomain').value = config.apiDomain;
        if (config.displayFormat && document.getElementById('wakatimeDisplayFormat')) document.getElementById('wakatimeDisplayFormat').value = config.displayFormat;
        if (config.hideProgress !== undefined && document.getElementById('wakatimeHideProgress')) document.getElementById('wakatimeHideProgress').checked = config.hideProgress;
        if (config.disableAnimations !== undefined && document.getElementById('wakatimeDisableAnimations')) document.getElementById('wakatimeDisableAnimations').checked = config.disableAnimations;
      } else if (config.cardType === 'trophy') {
        if (config.theme && document.getElementById('trophyTheme')) document.getElementById('trophyTheme').value = config.theme;
        if (config.customTitle && document.getElementById('trophyCustomTitle')) document.getElementById('trophyCustomTitle').value = config.customTitle;
        if (config.columns && document.getElementById('trophyColumns')) document.getElementById('trophyColumns').value = config.columns;
        if (config.marginW && document.getElementById('trophyMarginW')) document.getElementById('trophyMarginW').value = config.marginW;
        if (config.marginH && document.getElementById('trophyMarginH')) document.getElementById('trophyMarginH').value = config.marginH;
        if (config.hide && document.getElementById('trophyHide')) document.getElementById('trophyHide').value = config.hide;
        if (config.includeAllCommits !== undefined && document.getElementById('trophyIncludeAllCommits')) document.getElementById('trophyIncludeAllCommits').checked = config.includeAllCommits;
        if (config.excludeRepo && document.getElementById('trophyExcludeRepo')) document.getElementById('trophyExcludeRepo').value = config.excludeRepo;
      } else if (config.cardType === 'streak') {
        if (config.theme && document.getElementById('streakTheme')) document.getElementById('streakTheme').value = config.theme;
        if (config.customTitle && document.getElementById('streakCustomTitle')) document.getElementById('streakCustomTitle').value = config.customTitle;
      } else if (config.cardType === 'activity-graph') {
        if (config.theme && document.getElementById('activityGraphTheme')) document.getElementById('activityGraphTheme').value = config.theme;
        if (config.customTitle && document.getElementById('activityGraphCustomTitle')) document.getElementById('activityGraphCustomTitle').value = config.customTitle;
        if (config.year && document.getElementById('activityYear')) document.getElementById('activityYear').value = config.year;
      }
    }

    function addCommonParams(params) {
      const hideBorder = document.getElementById('commonHideBorder')?.checked;
      const hideTitle = document.getElementById('commonHideTitle')?.checked;
      const cardWidth = document.getElementById('commonCardWidth')?.value;
      const borderRadius = document.getElementById('commonBorderRadius')?.value;
      const locale = document.getElementById('commonLocale')?.value;
      const titleColor = document.getElementById('commonTitleColor')?.value.trim();
      const textColor = document.getElementById('commonTextColor')?.value.trim();
      const iconColor = document.getElementById('commonIconColor')?.value.trim();
      const borderColor = document.getElementById('commonBorderColor')?.value.trim();
      const bgColor = document.getElementById('commonBgColor')?.value.trim();

      if (hideBorder) params.append('hide_border', 'true');
      if (hideTitle) params.append('hide_title', 'true');
      if (cardWidth) params.append('card_width', cardWidth);
      if (borderRadius && parseFloat(borderRadius) !== 4.5) params.append('border_radius', borderRadius);
      if (locale) params.append('locale', locale);
      if (titleColor) params.append('title_color', titleColor);
      if (textColor) params.append('text_color', textColor);
      if (iconColor) params.append('icon_color', iconColor);
      if (borderColor) params.append('border_color', borderColor);
      if (bgColor) params.append('bg_color', bgColor);
    }

    function buildUrl() {
      const cardType = getCardType();
      const username = getUsername();
      const params = new URLSearchParams();
      
      params.append('username', username);

      // Add common params
      addCommonParams(params);

      if (cardType === 'stats') {
        const theme = document.getElementById('theme').value;
        if (theme && theme !== 'default') params.append('theme', theme);
        if (document.getElementById('showIcons').checked) params.append('show_icons', 'true');
        if (document.getElementById('hideRank').checked) params.append('hide_rank', 'true');
        if (document.getElementById('includeAllCommits').checked) params.append('include_all_commits', 'true');
        if (!document.getElementById('textBold').checked) params.append('text_bold', 'false');
        if (document.getElementById('disableAnimations').checked) params.append('disable_animations', 'true');
        
        const hideStats = document.getElementById('hideStats').value.trim();
        if (hideStats) params.append('hide', hideStats);
        
        const showStats = document.getElementById('showStats').value.trim();
        if (showStats) params.append('show', showStats);
        
        const customTitle = document.getElementById('customTitle').value.trim();
        if (customTitle) params.append('custom_title', customTitle);

        const excludeRepo = document.getElementById('excludeRepo').value.trim();
        if (excludeRepo) params.append('exclude_repo', excludeRepo);

        const lineHeight = document.getElementById('lineHeight').value;
        if (lineHeight && lineHeight !== '25') params.append('line_height', lineHeight);

        const ringColor = document.getElementById('ringColor').value.trim();
        if (ringColor) params.append('ring_color', ringColor);

        const numberFormat = document.getElementById('numberFormat').value;
        if (numberFormat && numberFormat !== 'short') params.append('number_format', numberFormat);

        const numberPrecision = document.getElementById('numberPrecision').value;
        if (numberPrecision) params.append('number_precision', numberPrecision);

        const rankIcon = document.getElementById('rankIcon').value;
        if (rankIcon && rankIcon !== 'default') params.append('rank_icon', rankIcon);

        const commitsYear = document.getElementById('commitsYear').value;
        if (commitsYear) params.append('commits_year', commitsYear);

        return `${baseUrl}/api?${params.toString()}`;
      } else if (cardType === 'top-langs') {
        const theme = document.getElementById('topLangsTheme')?.value || 'tokyonight';
        const layout = document.getElementById('layout').value;
        const langsCount = document.getElementById('langsCount').value;
        if (theme && theme !== 'default') params.append('theme', theme);
        if (layout && layout !== 'normal') params.append('layout', layout);
        if (langsCount) params.append('langs_count', langsCount);

        const hide = document.getElementById('topLangsHide')?.value.trim();
        if (hide) params.append('hide', hide);

        const excludeRepo = document.getElementById('topLangsExcludeRepo')?.value.trim();
        if (excludeRepo) params.append('exclude_repo', excludeRepo);

        const customTitle = document.getElementById('topLangsCustomTitle')?.value.trim();
        if (customTitle) params.append('custom_title', customTitle);

        const sizeWeight = document.getElementById('sizeWeight')?.value;
        if (sizeWeight && sizeWeight !== '1') params.append('size_weight', sizeWeight);

        const countWeight = document.getElementById('countWeight')?.value;
        if (countWeight && countWeight !== '0') params.append('count_weight', countWeight);

        const statsFormat = document.getElementById('statsFormat')?.value;
        if (statsFormat && statsFormat !== 'percentages') params.append('stats_format', statsFormat);

        if (document.getElementById('hideProgress')?.checked) params.append('hide_progress', 'true');
        if (document.getElementById('topLangsDisableAnimations')?.checked) params.append('disable_animations', 'true');

        return `${baseUrl}/api/top-langs?${params.toString()}`;
      } else if (cardType === 'pin') {
        const repoName = document.getElementById('repoName').value.trim();
        if (!repoName) {
          alert('Please enter repository name');
          return null;
        }
        params.append('repo', repoName);
        
        const theme = document.getElementById('pinTheme')?.value;
        if (theme && theme !== 'default_repocard') params.append('theme', theme);
        
        if (document.getElementById('showOwner').checked) params.append('show_owner', 'true');

        const descriptionLinesCount = document.getElementById('descriptionLinesCount')?.value;
        if (descriptionLinesCount) params.append('description_lines_count', descriptionLinesCount);

        return `${baseUrl}/api/pin?${params.toString()}`;
      } else if (cardType === 'gist') {
        const gistId = document.getElementById('gistId').value.trim();
        if (!gistId) {
          alert('Please enter Gist ID');
          return null;
        }
        params.append('id', gistId);
        
        const theme = document.getElementById('gistTheme')?.value;
        if (theme && theme !== 'default') params.append('theme', theme);
        
        if (document.getElementById('gistShowOwner')?.checked) params.append('show_owner', 'true');

        return `${baseUrl}/api/gist?${params.toString()}`;
      } else if (cardType === 'wakatime') {
        const wakatimeUsername = document.getElementById('wakatimeUsername').value.trim();
        if (!wakatimeUsername) {
          alert('Please enter WakaTime username');
          return null;
        }
        params.append('username', wakatimeUsername);
        
        const theme = document.getElementById('wakatimeTheme')?.value;
        if (theme && theme !== 'default') params.append('theme', theme);

        const layout = document.getElementById('wakatimeLayout')?.value;
        if (layout && layout !== 'default') params.append('layout', layout);

        const customTitle = document.getElementById('wakatimeCustomTitle')?.value.trim();
        if (customTitle) params.append('custom_title', customTitle);

        const hide = document.getElementById('wakatimeHide')?.value.trim();
        if (hide) params.append('hide', hide);

        const langsCount = document.getElementById('wakatimeLangsCount')?.value;
        if (langsCount) params.append('langs_count', langsCount);

        const lineHeight = document.getElementById('wakatimeLineHeight')?.value;
        if (lineHeight && lineHeight !== '25') params.append('line_height', lineHeight);

        const apiDomain = document.getElementById('wakatimeApiDomain')?.value.trim();
        if (apiDomain && apiDomain !== 'wakatime.com') params.append('api_domain', apiDomain);

        const displayFormat = document.getElementById('wakatimeDisplayFormat')?.value;
        if (displayFormat && displayFormat !== 'time') params.append('display_format', displayFormat);

        if (document.getElementById('wakatimeHideProgress')?.checked) params.append('hide_progress', 'true');
        if (document.getElementById('wakatimeDisableAnimations')?.checked) params.append('disable_animations', 'true');

        return `${baseUrl}/api/wakatime?${params.toString()}`;
      } else if (cardType === 'trophy') {
        const theme = document.getElementById('trophyTheme')?.value || 'tokyonight';
        if (theme && theme !== 'default') params.append('theme', theme);
        
        const customTitle = document.getElementById('trophyCustomTitle')?.value.trim();
        if (customTitle) params.append('custom_title', customTitle);
        
        const columns = document.getElementById('trophyColumns')?.value || 7;
        params.append('column', columns);
        
        const marginW = document.getElementById('trophyMarginW')?.value || 15;
        params.append('margin_w', marginW);
        
        const marginH = document.getElementById('trophyMarginH')?.value || 15;
        params.append('margin_h', marginH);

        const hide = document.getElementById('trophyHide')?.value.trim();
        if (hide) params.append('hide', hide);

        if (document.getElementById('trophyIncludeAllCommits')?.checked) params.append('include_all_commits', 'true');

        const excludeRepo = document.getElementById('trophyExcludeRepo')?.value.trim();
        if (excludeRepo) params.append('exclude_repo', excludeRepo);

        return `${baseUrl}/api/trophy?${params.toString()}`;
      } else if (cardType === 'streak') {
        const theme = document.getElementById('streakTheme')?.value || 'tokyonight';
        if (theme && theme !== 'default') params.append('theme', theme);
        
        const customTitle = document.getElementById('streakCustomTitle')?.value.trim();
        if (customTitle) params.append('custom_title', customTitle);

        return `${baseUrl}/api/streak?${params.toString()}`;
      } else if (cardType === 'activity-graph') {
        const theme = document.getElementById('activityGraphTheme')?.value || 'tokyonight';
        if (theme && theme !== 'default') params.append('theme', theme);
        
        const customTitle = document.getElementById('activityGraphCustomTitle')?.value.trim();
        if (customTitle) params.append('custom_title', customTitle);
        
        const year = document.getElementById('activityYear')?.value;
        if (year) params.append('year', year);
        
        return `${baseUrl}/api/activity-graph?${params.toString()}`;
      }
      return null;
    }

    function generateCard() {
      const url = buildUrl();
      if (!url) return;

      currentConfig = getAllConfig();

      // Update preview
      const previewDiv = document.getElementById('preview');
      previewDiv.innerHTML = `<img src="${url}" alt="GitHub Stats Card" style="max-width: 100%; height: auto;" onerror="this.parentElement.innerHTML='<p class=\'text-red-500\'>Error loading card. Please check your configuration.</p>'">`;

      // Update markdown code
      const markdownCode = `[![GitHub Stats](${url})](https://github.com/${getUsername()})`;
      document.getElementById('markdownCode').innerHTML = `<code>${escapeHtml(markdownCode)}</code>`;

      // Update direct URL
      document.getElementById('directUrl').innerHTML = `<code>${escapeHtml(url)}</code>`;

      // Update full README template
      updateFullReadme();
    }

    function updateFullReadme() {
      const username = getUsername();
      const statsUrl = buildUrl();
      if (!statsUrl) return;

      const readme = `# ${username}

<div align="center">
  <img src="https://avatars.githubusercontent.com/u/USER_ID?v=4" width="150" style="border-radius: 50%;" alt="Avatar"/>
  
  <h1>${username}</h1>
  
  <p><i>Your bio here</i></p>
</div>

---

## üìä GitHub Stats

<div align="center">
  
  <img height="165em" src="${statsUrl}" alt="GitHub Stats"/>
  
</div>

---

## üèÜ Trophies

<div align="center">
  <img src="${baseUrl}/api/trophy?username=${username}&theme=tokyonight&hide_border=true&column=7&margin_w=15&margin_h=15" alt="Trophies" />
</div>

---

## üõ†Ô∏è Tech Stack

<div align="center">
  
  ![JavaScript](https://img.shields.io/badge/JavaScript-F7DF1E?style=flat-square&logo=javascript&logoColor=black)
  ![TypeScript](https://img.shields.io/badge/TypeScript-3178C6?style=flat-square&logo=typescript&logoColor=white)
  ![Node.js](https://img.shields.io/badge/Node.js-339933?style=flat-square&logo=nodedotjs&logoColor=white)
  
</div>

---

<div align="center">
  <img src="https://komarev.com/ghpvc/?username=${username}&label=Profile%20Views&color=0ea5e9&style=flat-square" alt="Profile Views" />
</div>`;

      document.getElementById('fullReadme').innerHTML = `<code>${escapeHtml(readme)}</code>`;
    }

    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    function showToast(message) {
      const toast = document.createElement('div');
      toast.className = 'toast';
      toast.textContent = message;
      document.body.appendChild(toast);
      setTimeout(() => {
        toast.style.animation = 'slideIn 0.3s ease-out reverse';
        setTimeout(() => toast.remove(), 300);
      }, 2000);
    }

    function copyMarkdown() {
      const code = document.getElementById('markdownCode').querySelector('code').textContent;
      navigator.clipboard.writeText(code).then(() => {
        showToast('Markdown code copied!');
      });
    }

    function copyUrl() {
      const code = document.getElementById('directUrl').querySelector('code').textContent;
      navigator.clipboard.writeText(code).then(() => {
        showToast('URL copied!');
      });
    }

    function copyFullReadme() {
      const code = document.getElementById('fullReadme').querySelector('code').textContent;
      navigator.clipboard.writeText(code).then(() => {
        showToast('Full README copied!');
      });
    }

    function saveConfig() {
      const config = getAllConfig();
      const name = prompt('Enter a name for this configuration:');
      if (!name) return;

      const savedConfig = {
        name: name,
        config: config,
        timestamp: new Date().toISOString()
      };

      savedConfigs.push(savedConfig);
      localStorage.setItem('github-readme-stats-configs', JSON.stringify(savedConfigs));
      loadSavedConfigs();
      showToast('Configuration saved!');
    }

    function loadConfig() {
      if (savedConfigs.length === 0) {
        alert('No saved configurations');
        return;
      }

      const names = savedConfigs.map((c, i) => `${i + 1}. ${c.name}`).join('\n');
      const choice = prompt(`Choose configuration (enter number):\n${names}`);
      const index = parseInt(choice) - 1;

      if (index >= 0 && index < savedConfigs.length) {
        setAllConfig(savedConfigs[index].config);
        generateCard();
        showToast('Configuration loaded!');
      }
    }

    function exportConfig() {
      const config = getAllConfig();
      const dataStr = JSON.stringify(config, null, 2);
      const dataBlob = new Blob([dataStr], { type: 'application/json' });
      const url = URL.createObjectURL(dataBlob);
      const link = document.createElement('a');
      link.href = url;
      link.download = `github-readme-stats-config-${Date.now()}.json`;
      link.click();
      URL.revokeObjectURL(url);
      showToast('Configuration exported!');
    }

    function importConfig() {
      const input = document.createElement('input');
      input.type = 'file';
      input.accept = 'application/json';
      input.onchange = (e) => {
        const file = e.target.files[0];
        if (!file) return;

        const reader = new FileReader();
        reader.onload = (event) => {
          try {
            const config = JSON.parse(event.target.result);
            setAllConfig(config);
            generateCard();
            showToast('Configuration imported!');
          } catch (error) {
            alert('Invalid configuration file');
          }
        };
        reader.readAsText(file);
      };
      input.click();
    }

    function loadSavedConfigs() {
      const container = document.getElementById('savedConfigs');
      if (savedConfigs.length === 0) {
        container.innerHTML = '<p class="text-slate-400 text-sm">No saved configurations yet</p>';
        return;
      }

      container.innerHTML = savedConfigs.map((cfg, index) => `
        <div class="bg-slate-900 rounded p-3 flex justify-between items-center">
          <div>
            <p class="text-white font-medium">${cfg.name}</p>
            <p class="text-slate-400 text-xs">${new Date(cfg.timestamp).toLocaleDateString()}</p>
          </div>
          <div class="flex gap-2">
            <button onclick="loadConfigByIndex(${index})" class="bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-xs">
              Load
            </button>
            <button onclick="deleteConfig(${index})" class="bg-red-600 hover:bg-red-700 text-white px-2 py-1 rounded text-xs">
              Delete
            </button>
          </div>
        </div>
      `).join('');
    }

    function loadConfigByIndex(index) {
      if (index >= 0 && index < savedConfigs.length) {
        setAllConfig(savedConfigs[index].config);
        generateCard();
        showToast('Configuration loaded!');
      }
    }

    function deleteConfig(index) {
      if (confirm('Delete this configuration?')) {
        savedConfigs.splice(index, 1);
        localStorage.setItem('github-readme-stats-configs', JSON.stringify(savedConfigs));
        loadSavedConfigs();
        showToast('Configuration deleted!');
      }
    }

    function applyPreset(preset) {
      const username = getUsername();
      
      if (preset === 'minimal') {
        document.getElementById('cardType').value = 'stats';
        document.getElementById('cardType').dispatchEvent(new Event('change'));
        document.getElementById('theme').value = 'default';
        document.getElementById('showIcons').checked = false;
        document.getElementById('commonHideBorder').checked = true;
        document.getElementById('hideRank').checked = false;
        document.getElementById('includeAllCommits').checked = false;
        document.getElementById('hideStats').value = '';
        document.getElementById('customTitle').value = '';
        document.getElementById('commonHideTitle').checked = false;
      } else if (preset === 'detailed') {
        document.getElementById('cardType').value = 'stats';
        document.getElementById('cardType').dispatchEvent(new Event('change'));
        document.getElementById('theme').value = 'tokyonight';
        document.getElementById('showIcons').checked = true;
        document.getElementById('commonHideBorder').checked = false;
        document.getElementById('hideRank').checked = false;
        document.getElementById('includeAllCommits').checked = true;
        document.getElementById('hideStats').value = '';
        document.getElementById('customTitle').value = '';
        document.getElementById('commonHideTitle').checked = false;
        document.getElementById('showStats').value = 'reviews,prs_merged';
      } else if (preset === 'dark') {
        document.getElementById('cardType').value = 'stats';
        document.getElementById('cardType').dispatchEvent(new Event('change'));
        document.getElementById('theme').value = 'dark';
        document.getElementById('showIcons').checked = true;
        document.getElementById('commonHideBorder').checked = true;
        document.getElementById('hideRank').checked = false;
        document.getElementById('includeAllCommits').checked = false;
        document.getElementById('hideStats').value = '';
        document.getElementById('customTitle').value = '';
        document.getElementById('commonHideTitle').checked = false;
      } else if (preset === 'colorful') {
        document.getElementById('cardType').value = 'stats';
        document.getElementById('cardType').dispatchEvent(new Event('change'));
        document.getElementById('theme').value = 'radical';
        document.getElementById('showIcons').checked = true;
        document.getElementById('commonHideBorder').checked = false;
        document.getElementById('hideRank').checked = false;
        document.getElementById('includeAllCommits').checked = false;
        document.getElementById('hideStats').value = '';
        document.getElementById('customTitle').value = '';
        document.getElementById('commonHideTitle').checked = false;
      }
      
      generateCard();
    }

    function loadExample(cardType) {
      document.getElementById('cardType').value = cardType;
      document.getElementById('cardType').dispatchEvent(new Event('change'));
      
      if (cardType === 'pin') {
        document.getElementById('repoName').value = 'github-readme-stats';
      }
      
      generateCard();
      // Scroll to constructor
      document.getElementById('constructor').scrollIntoView({ behavior: 'smooth' });
    }

    function showExample(type) {
      // Hide all examples
      document.querySelectorAll('.example-content').forEach(el => el.classList.add('hidden'));
      // Show selected example
      document.getElementById(`example-${type}`).classList.remove('hidden');
      
      // Update tab buttons
      document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
    }

    // Show/hide options based on card type
    document.getElementById('cardType').addEventListener('change', function() {
      const cardType = this.value;
      document.getElementById('statsOptions').classList.toggle('hidden', cardType !== 'stats');
      document.getElementById('topLangsOptions').classList.toggle('hidden', cardType !== 'top-langs');
      document.getElementById('pinOptions').classList.toggle('hidden', cardType !== 'pin');
      document.getElementById('gistOptions').classList.toggle('hidden', cardType !== 'gist');
      document.getElementById('wakatimeOptions').classList.toggle('hidden', cardType !== 'wakatime');
      document.getElementById('trophyOptions').classList.toggle('hidden', cardType !== 'trophy');
      document.getElementById('streakOptions').classList.toggle('hidden', cardType !== 'streak');
      document.getElementById('activityGraphOptions').classList.toggle('hidden', cardType !== 'activity-graph');
    });

    // Auto-generate on username change with debounce
    let generateTimeout;
    document.getElementById('username').addEventListener('input', function() {
      clearTimeout(generateTimeout);
      generateTimeout = setTimeout(() => {
        if (this.value.trim()) {
          generateCard();
        }
      }, 500);
    });

    // Auto-generate on any option change
    const allOptionIds = [
      // Common
      'commonHideBorder', 'commonHideTitle', 'commonCardWidth', 'commonBorderRadius', 'commonLocale',
      'commonTitleColor', 'commonTextColor', 'commonIconColor', 'commonBorderColor', 'commonBgColor',
      // Stats
      'theme', 'showIcons', 'hideRank', 'includeAllCommits', 'hideStats', 'showStats', 'customTitle',
      'excludeRepo', 'lineHeight', 'ringColor', 'numberFormat', 'numberPrecision', 'rankIcon', 'commitsYear',
      'textBold', 'disableAnimations',
      // Top Langs
      'topLangsTheme', 'layout', 'langsCount', 'topLangsHide', 'topLangsExcludeRepo', 'topLangsCustomTitle',
      'sizeWeight', 'countWeight', 'statsFormat', 'hideProgress', 'topLangsDisableAnimations',
      // Pin
      'repoName', 'pinTheme', 'showOwner', 'descriptionLinesCount',
      // Gist
      'gistId', 'gistTheme', 'gistShowOwner',
      // WakaTime
      'wakatimeUsername', 'wakatimeTheme', 'wakatimeLayout', 'wakatimeCustomTitle', 'wakatimeHide',
      'wakatimeLangsCount', 'wakatimeLineHeight', 'wakatimeApiDomain', 'wakatimeDisplayFormat',
      'wakatimeHideProgress', 'wakatimeDisableAnimations',
      // Trophy
      'trophyTheme', 'trophyCustomTitle', 'trophyColumns', 'trophyMarginW', 'trophyMarginH',
      'trophyHide', 'trophyIncludeAllCommits', 'trophyExcludeRepo',
      // Streak
      'streakTheme', 'streakCustomTitle',
      // Activity Graph
      'activityGraphTheme', 'activityGraphCustomTitle', 'activityYear'
    ];

    allOptionIds.forEach(id => {
      const el = document.getElementById(id);
      if (el) {
        el.addEventListener('change', () => {
          clearTimeout(generateTimeout);
          generateTimeout = setTimeout(generateCard, 300);
        });
        el.addEventListener('input', () => {
          clearTimeout(generateTimeout);
          generateTimeout = setTimeout(generateCard, 500);
        });
        if (el.type === 'checkbox') {
          el.addEventListener('click', () => {
            clearTimeout(generateTimeout);
            generateTimeout = setTimeout(generateCard, 300);
          });
        }
      }
    });
  </script>
</body>
</html>
